# Methods

All analysis was implemented in Python, and can be found at [https://github.com/meyer-lab/FcgR-binding](https://github.com/meyer-lab/FcgR-binding), release 1.0 (doi: [00.0000/arc0000000](https://doi.org/doi-url)).

## Immune complex binding measurement

IC binding to hFcγRs was analyzed using Chinese hamster ovarian (CHO) cells stably expressing hFcγRs as previously described [@Lux:2013iv]. Receptor expression was quantified using antibodies against each hFcγR and flow cytometry measurement as previously described [@Lux:2013iv]. Receptor expression was quantified in terms of absolute number through comparison to fluorescence standards (QSC microspheres, Bangs Labs). Briefly, ICs were generated by coincubation of 10 mg/ml anti-TNP hIgG and 5 mg/ml TNP-coupled BSA for 3 h with gentle shaking at room temperature. ICs were incubated with 100,000 CHO cells stably expressing hFcγRs for 1 h under gentle shaking at 4℃. Bound ICs were detected by flow cytometry using a PE-conjugated goat anti-human IgG F(ab')~2~ fragment at 0.5 mg/ml (Jackson ImmunoResearch Laboratories). Data were analyzed with Flow Cytometry Analysis Software (FlowJo) or FACSDiva Software.

## *In vivo* regression

Regression against *in vivo* effectiveness of hIgG treatments was performed by least-squares (`scipy.optimize.least_squares`). Each effectiveness was presented as the percent reduction in the number of lung metastases quantified [@Nimmerjahn:2005hu]. To account for the limited range of this quantity (e.g. one cannot have a reduction of 200%), the regression was performed with a hyberbolic relationship, such that:

$$ y = S (X \cdot p) $$ {#eq:lsq}

where $S$ is the sigmoid function, scaled so that $S(x=0) = 0$ and $\lim_{x\to\infty} S(x) = 1$. $X$ is the predicted mFcγR activity for each cell line according to our model, and $p$ is the regression weights.

### PCA of hIgG-hFcγR affinities

Principle component analysis was performed using `scikit-learn` and the affinities of the four mIgGs (mIgG1, mIgG2a, mIgG2b, mIgG3), with or without knockout treatments, for each of four receptors (mFcγRI, mFcγRIIB, mFcγRIII, mFcγRIV). Association constants for all combinations of hIgG and hFcγR were obtained from previous experimental measurements [@Bruhns:2009kg]. The affinity for a knocked-out or blocked hFcγR was assumed to be zero. The affinities were not normalized before PCA transformation. 

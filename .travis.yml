language: python
python:
  - "3.6"
dist: trusty
addons:
  apt_packages:
    - texlive-latex-base
    - texlive-latex-extra
    - texlive-fonts-recommended
    - texlive-latex-recommended
    - lmodern
    - texlive-xetex
    - cabal-install
    - ghc
# Caching so the next build will be fast too.
cache:
  directories:
  - $HOME/.ghc
  - $HOME/.cabal
  - $HOME/.stack
  - $HOME/.cache/pip
# command to install dependencies
install:
  - pip install numpy scipy pandas h5py memoize2 matplotlib tqdm coverage
  - pip install codecov seaborn scikit-learn
  - cabal update
  - cabal install pandoc
  - cabal install pandoc-citeproc
  - cabal install pandoc-crossref
  - export PATH=$HOME/.cabal/bin:$PATH
# command to run tests
script:
  - coverage run -m unittest discover
  - make
after_success:
  - codecov
